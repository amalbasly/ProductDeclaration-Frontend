<div *ngIf="loading" class="loading">
  Loading products...
</div>

<div *ngIf="error" class="error">
  {{ error }}
</div>

<div *ngIf="successMessage" class="success">
  {{ successMessage }}
</div>

<div class="filter-controls">
  <input [(ngModel)]="codeProduitFilter" placeholder="Product Code">
  <input [(ngModel)]="statusFilter" placeholder="Status">
  <select [(ngModel)]="isSerializedFilter">
    <option value="">All</option>
    <option value="true">Serialized</option>
    <option value="false">Not Serialized</option>
  </select>
  <button (click)="onSearch()">Search</button>
  <button (click)="onClearFilters()">Clear</button>
</div>

<table *ngIf="!loading && products.length > 0" class="product-table">
  <thead>
    <tr>
      <th>Action</th>
      <th>Code</th>
      <th>Libell√©</th>
      <th>Famille</th>
      <th>Sous Famille</th>
      <th>Status</th>
      <th>Serialized</th>
      <th>Poids</th>
      <th>Date Creation</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let p of products">
      <td>
        <button class="delete-btn" (click)="deleteProduct(p.PtNum)" title="Delete product">
          <i class="material-icons">delete</i>
        </button>
      </td>
      <td>{{ p.PtNum }}</td>
      <td>{{ p.PtLib }}</td>
      <td>{{ p.FpCod }}</td>
      <td>{{ p.SpCod }}</td>
      <td>{{ p.SpId || '-' }}</td>
      <td>{{ p.IsSerialized ? 'Yes' : 'No' }}</td>
      <td>{{ p.PtPoids || '-' }}</td>
      <td>{{ p.PtDcreat ? (p.PtDcreat | date: 'short') : '-' }}</td>
    </tr>
  </tbody>
</table>

<div *ngIf="!loading && products.length === 0" class="no-products">
  No products found matching your criteria.
</div>